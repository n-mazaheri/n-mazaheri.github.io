"use strict";(self.webpackChunkimage_editor=self.webpackChunkimage_editor||[]).push([[72362],{72362:(t,e,n)=>{n.d(e,{getNFT:()=>s});var o=n(91244),r=n(55041),i=n(6219);const a="0xc87b56dd",c=[{type:"uint256",name:"_tokenId"}],d=[{type:"string"}];async function l(t){return(0,i.readContract)({contract:t.contract,method:[a,c,d],params:[t.tokenId]})}async function s(t){const[e,i]=await Promise.all([l(t).catch((()=>null)),t.includeOwner?n.e(10276).then(n.bind(n,10276)).then((e=>e.ownerOf(t))).catch((()=>null)):null]);return e?(0,r.e)(await(0,o.F)({client:t.contract.client,tokenId:t.tokenId,tokenUri:e}).catch((()=>({id:t.tokenId,type:"ERC721",uri:e}))),{tokenId:t.tokenId,tokenUri:e,type:"ERC721",owner:i}):(0,r.e)({id:t.tokenId,type:"ERC721",uri:""},{tokenId:t.tokenId,tokenUri:"",type:"ERC721",owner:i})}},91244:(t,e,n)=>{n.d(e,{F:()=>i});var o=n(97163);var r=n(40886);async function i(t){const{client:e,tokenId:i,tokenUri:a}=t;if(a.startsWith("data:application/json;base64"))try{return JSON.parse(function(t){const[,e]=t.split(",");return(0,o.QM)(e)}(a))}catch(d){throw console.error("Failed to fetch base64 encoded NFT",{tokenId:i,tokenUri:a},d),d}const{download:c}=await Promise.resolve().then(n.bind(n,41293));try{if(!a.includes("{id}"))return await(await c({client:e,uri:a})).json()}catch(d){throw console.error("Failed to fetch non-dynamic NFT",{tokenId:i,tokenUri:a},d),d}try{try{return await(await c({client:e,uri:a.replace("{id}",(0,r.cK)(i,{size:32}).slice(2))})).json()}catch(l){return await(await c({client:e,uri:a.replace("{id}",i.toString())})).json()}}catch(d){throw console.error("Failed to fetch dynamic NFT",{tokenId:i,tokenUri:a},d),d}}},55041:(t,e,n)=>{function o(t,e){var n,o;switch(e.type){case"ERC721":return{metadata:t,owner:null!==(n=null===e||void 0===e?void 0:e.owner)&&void 0!==n?n:null,id:e.tokenId,tokenURI:e.tokenUri,type:e.type};case"ERC1155":return{metadata:t,owner:null!==(o=null===e||void 0===e?void 0:e.owner)&&void 0!==o?o:null,id:e.tokenId,tokenURI:e.tokenUri,type:e.type,supply:e.supply};default:throw new Error("Invalid NFT type")}}n.d(e,{e:()=>o})}}]);
//# sourceMappingURL=72362.f1c76856.chunk.js.map