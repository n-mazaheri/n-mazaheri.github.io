"use strict";(self.webpackChunkimage_editor=self.webpackChunkimage_editor||[]).push([[6604],{6604:(t,n,e)=>{e.d(n,{getNFT:()=>y});var o=e(91244),r=e(55041),a=e(6219);const i="0xbd85b039",c=[{type:"uint256",name:"id"}],d=[{type:"uint256"}];async function l(t){return(0,a.readContract)({contract:t.contract,method:[i,c,d],params:[t.id]})}const s="0x0e89341c",u=[{type:"uint256",name:"tokenId"}],k=[{type:"string"}];async function p(t){return(0,a.readContract)({contract:t.contract,method:[s,u,k],params:[t.tokenId]})}async function y(t){const[n,e]=await Promise.all([p({contract:t.contract,tokenId:t.tokenId}),l({contract:t.contract,id:t.tokenId}).catch((()=>0n))]);return(0,r.e)(await(0,o.F)({client:t.contract.client,tokenId:t.tokenId,tokenUri:n}).catch((()=>({id:t.tokenId,type:"ERC1155",uri:n}))),{tokenId:t.tokenId,tokenUri:n,type:"ERC1155",owner:null,supply:e})}},91244:(t,n,e)=>{e.d(n,{F:()=>a});var o=e(97163);var r=e(40886);async function a(t){const{client:n,tokenId:a,tokenUri:i}=t;if(i.startsWith("data:application/json;base64"))try{return JSON.parse(function(t){const[,n]=t.split(",");return(0,o.QM)(n)}(i))}catch(d){throw console.error("Failed to fetch base64 encoded NFT",{tokenId:a,tokenUri:i},d),d}const{download:c}=await Promise.resolve().then(e.bind(e,41293));try{if(!i.includes("{id}"))return await(await c({client:n,uri:i})).json()}catch(d){throw console.error("Failed to fetch non-dynamic NFT",{tokenId:a,tokenUri:i},d),d}try{try{return await(await c({client:n,uri:i.replace("{id}",(0,r.cK)(a,{size:32}).slice(2))})).json()}catch(l){return await(await c({client:n,uri:i.replace("{id}",a.toString())})).json()}}catch(d){throw console.error("Failed to fetch dynamic NFT",{tokenId:a,tokenUri:i},d),d}}},55041:(t,n,e)=>{function o(t,n){var e,o;switch(n.type){case"ERC721":return{metadata:t,owner:null!==(e=null===n||void 0===n?void 0:n.owner)&&void 0!==e?e:null,id:n.tokenId,tokenURI:n.tokenUri,type:n.type};case"ERC1155":return{metadata:t,owner:null!==(o=null===n||void 0===n?void 0:n.owner)&&void 0!==o?o:null,id:n.tokenId,tokenURI:n.tokenUri,type:n.type,supply:n.supply};default:throw new Error("Invalid NFT type")}}e.d(n,{e:()=>o})}}]);
//# sourceMappingURL=6604.eb4f3d81.chunk.js.map