"use strict";(self.webpackChunkimage_editor=self.webpackChunkimage_editor||[]).push([[88387],{46933:(e,n,t)=>{t.d(n,{c:()=>O,w:()=>U});var o=t(36663),a=t(57764),i=t(16911),r=t(14844),l=t(60033),s=t(46104),c=t(47523),d=t(20052),h=t(54281),m=t(45483),g=t(33277),u=t(57026),p=t(82749),x=t(41197),y=t(23700),f=t(38982),w=t(58008),v=t(6287),b=t(4694),j=t(43472),k=t(57063),S=t(56043),C=t(36660),E=t(37169);function K(e){let{countryCode:n,setCountryCode:a}=e;const r=(0,i.useRef)(null),{data:l}=(0,C.I)({queryKey:["supported-sms-countries"],queryFn:async()=>{const{supportedSmsCountries:e}=await t.e(54776).then(t.bind(t,54776));return e}}),c=null!==l&&void 0!==l?l:[{countryIsoCode:"US",countryName:"United States",phoneNumberCode:1}];return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(M,{ref:r,name:"countries",id:"countries",value:n,onChange:e=>{a(e.target.value)},style:{paddingLeft:s.YK.md,paddingRight:"0"},children:[(0,o.jsx)(I,{style:{display:"none"},value:n,children:n}),c.map((e=>(0,o.jsxs)(I,{value:"".concat(e.countryIsoCode," +").concat(e.phoneNumberCode),children:[e.countryName," +",e.phoneNumberCode," "]},e.countryIsoCode)))]})})}const I=(0,E.LI)((()=>{const e=(0,l.QP)();return{color:e.colors.primaryText,background:e.colors.modalBg,transition:"background 0.3s ease","&:hover":{background:e.colors.tertiaryBg}}})),M=(0,E.Iu)((()=>{const e=(0,l.QP)();return{fontSize:s.J.sm,display:"block",padding:s.YK.sm,boxSizing:"border-box",outline:"none",border:"none",borderRadius:s.r8.lg,color:e.colors.primaryText,WebkitAppearance:"none",appearance:"none",cursor:"pointer",background:"transparent","&::placeholder":{color:e.colors.secondaryText},"&[disabled]":{cursor:"not-allowed"},minWidth:"0px",maxWidth:"90px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}));function P(e){const[n,t]=(0,i.useState)("US +1"),[a,r]=(0,i.useState)(""),[l,c]=(0,i.useState)(),[d,h]=(0,i.useState)(!1),m=()=>{h(!0),a&&!l&&e.onSelect("phone"===e.format?"+".concat(n.split("+")[1]).concat(a):a)},g=d&&!!l||!a&&!!e.emptyErrorMessage&&d;return(0,o.jsxs)("div",{style:{width:"100%"},children:[(0,o.jsxs)(k.A0,{style:{position:"relative",display:"flex",flexDirection:"row"},"data-error":g,children:["phone"===e.format&&(0,o.jsx)(K,{countryCode:n,setCountryCode:t}),(0,o.jsx)(k.pd,{tabIndex:-1,placeholder:e.placeholder,style:{flexGrow:1,padding:"".concat(s.YK.md," ").concat("phone"===e.format?0:s.YK.md)},variant:"transparent",type:e.type,name:e.name,value:a,onChange:n=>{r(n.target.value),e.errorMessage?c(e.errorMessage(n.target.value)):c(void 0)},onKeyDown:e=>{"Enter"===e.key&&m()}}),(0,o.jsx)(v.K0,{onClick:m,style:{padding:s.YK.md,borderRadius:"0 ".concat(s.r8.lg," ").concat(s.r8.lg," 0")},children:(0,o.jsx)(j.flY,{width:s.RK.md,height:s.RK.md})})]}),d&&l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.h,{y:"xs"}),(0,o.jsx)(S.E,{color:"danger",size:"sm",children:l})]}),!(d&&l)&&!a&&e.emptyErrorMessage&&d&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.h,{y:"xs"}),(0,o.jsx)(S.E,{color:"danger",size:"sm",children:e.emptyErrorMessage})]})]})}var W=t(88392),F=t(30443);const R={google:F.pR,apple:F.M$,facebook:F.Gl};var L=t(61240);const B=["email","phone","google","apple","facebook","passkey"],O=e=>{var n,t,a,h,m,g,y;const v=e.locale,{chain:b,client:j,connectModal:k}=(0,c.c)(),{wallet:S}=e,C=(0,d.IU)(),E=(0,l.QP)(),K={google:v.signInWithGoogle,facebook:v.signInWithFacebook,apple:v.signInWithApple},I=e.wallet.getConfig(),M=(null===I||void 0===I||null===(n=I.auth)||void 0===n?void 0:n.options)||B,F=M.includes("passkey"),O=M.indexOf("email"),U=-1!==O,Y=M.indexOf("phone"),z=-1!==Y,[H,q]=(0,i.useState)((()=>U&&z?O<Y?"email":"phone":U?"email":z?"phone":"none")),A="email"===H?v.emailPlaceholder:v.phonePlaceholder,N="email"===H?v.emailRequired:v.phoneRequired;let G="text";"email"===H?G="email":"phone"===H&&(G="tel");const _=M.filter((e=>"google"===e||"apple"===e||"facebook"===e)),Q=_.length>0;const $=_.length>1;return null===I||void 0===I||null===(t=I.metadata)||void 0===t||!t.image||I.metadata.image.height&&I.metadata.image.width||console.warn("Image is not properly configured. Please set height and width.",I.metadata.image),(0,o.jsxs)(w.mc,{flex:"column",gap:"md",style:{position:"relative"},children:[(null===I||void 0===I||null===(a=I.metadata)||void 0===a?void 0:a.image)&&(0,o.jsx)(w.mc,{flex:"row",center:"both",children:(0,o.jsx)(x.E,{loading:"eager",client:j,style:{maxHeight:"100px",maxWidth:"300px"},src:I.metadata.image.src,alt:I.metadata.image.alt,width:null===(h=Math.min(null!==(m=I.metadata.image.width)&&void 0!==m?m:300,300))||void 0===h?void 0:h.toString(),height:null===(g=Math.min(null!==(y=I.metadata.image.height)&&void 0!==y?y:100,100))||void 0===g?void 0:g.toString()})}),Q&&(0,o.jsx)(w.mc,{flex:$?"row":"column",center:"x",gap:"sm",style:{justifyContent:"space-between"},children:_.map((n=>{const t=$?s.RK.lg:s.RK.md;return(0,o.jsxs)(T,{"aria-label":"Login with ".concat(n),"data-variant":$?"icon":"full",variant:"outline",fullWidth:!$,onClick:()=>{(async n=>{try{const t=(0,W.C)(n,E);if(!t)throw new Error("Failed to open login window");const o=S.connect({chain:b,client:j,strategy:n,openedWindow:t,closeOpenedWindow:e=>{e.close()}});await(0,L.O)(n,r.n),C({socialLogin:{type:n,connectionPromise:o}}),e.select()}catch(t){console.error("Error sign in with ".concat(n),t)}})(n)},children:[(0,o.jsx)(x.E,{src:R[n],width:t,height:t,client:j}),!$&&K[n]]},n)}))}),"wide"===k.size&&Q&&(U||z)&&(0,o.jsx)(f.l,{text:v.or}),U&&(0,o.jsx)(o.Fragment,{children:"email"===H?(0,o.jsx)(P,{type:G,onSelect:n=>{C({emailLogin:n}),e.select()},placeholder:A,name:"email",errorMessage:e=>{var n;if(!(n=e.toLowerCase(),/^\S+@\S+\.\S+$/.test(n.replace(/\+/g,""))))return v.invalidEmail},emptyErrorMessage:N,submitButtonText:v.submitEmail}):(0,o.jsx)(u.m,{client:j,icon:p.M6,onClick:()=>{q("email")},title:"Email address"})}),z&&(0,o.jsx)(o.Fragment,{children:"phone"===H?(0,o.jsx)(P,{format:"phone",type:G,onSelect:n=>{C({phoneLogin:n.replace(/[-\(\) ]/g,"")}),e.select()},placeholder:A,name:"phone",errorMessage:e=>{const n=e.replace(/[-\(\) ]/g,"");if(!/^[0-9]+$/.test(n)&&z)return v.invalidPhone},emptyErrorMessage:N,submitButtonText:v.submitEmail}):(0,o.jsx)(u.m,{client:j,icon:p.S9,onClick:()=>{q("phone")},title:"Phone number"})}),F&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(u.m,{client:j,icon:p.ON,onClick:()=>{C({passkeyLogin:!0}),e.select()},title:"Passkey"})})]})};function U(e){var n;const t=e.locale.emailLoginScreen,{connectModal:a,client:i}=(0,c.c)(),r="compact"===a.size,{initialScreen:l,screen:d}=(0,m.b0)(),u=d===e.wallet&&l===e.wallet?void 0:e.goBack;return(0,o.jsxs)(w.mc,{fullHeight:!0,flex:"column",p:"lg",animate:"fadein",style:{minHeight:"250px"},children:[r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.rQ,{onBack:u,title:(0,o.jsxs)(o.Fragment,{children:[a.titleIcon?(0,o.jsx)(x.E,{src:a.titleIcon,width:s.RK.md,height:s.RK.md,client:i}):null,(0,o.jsx)(b.w,{children:null!==(n=a.title)&&void 0!==n?n:t.title})]})}),(0,o.jsx)(y.h,{y:"lg"})]}):null,(0,o.jsx)(w.mc,{expand:!0,flex:"column",center:"y",p:r?void 0:"lg",children:(0,o.jsx)(O,{...e})}),r&&(!1!==a.showThirdwebBranding||a.termsOfServiceUrl||a.privacyPolicyUrl)&&(0,o.jsx)(y.h,{y:"xl"}),(0,o.jsxs)(w.mc,{flex:"column",gap:"lg",children:[(0,o.jsx)(h.D,{termsOfServiceUrl:a.termsOfServiceUrl,privacyPolicyUrl:a.privacyPolicyUrl}),!1!==a.showThirdwebBranding&&(0,o.jsx)(g.B,{})]})]})}const T=(0,a.A)(v.$n)({"&[data-variant='full']":{display:"flex",justifyContent:"flex-start",padding:s.YK.md,gap:s.YK.md,fontSize:s.J.md,fontWeight:500,transition:"background-color 0.2s ease","&:active":{boxShadow:"none"}},"&[data-variant='icon']":{padding:s.YK.sm,flexGrow:1}})},88392:(e,n,t)=>{function o(e,n){const{height:t,width:o}=function(e){return"facebook"===e?{width:715,height:555}:{width:350,height:500}}(e),i=(window.innerHeight-t)/2,r=(window.innerWidth-o)/2,l=window.open("",void 0,"width=".concat(o,", height=").concat(t,", top=").concat(i,", left=").concat(r));if(l){const t=function(e){return"google"===e?"Sign In - Google Accounts":"Sign In - ".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}(e);l.document.title=t,l.document.body.innerHTML=a,l.document.body.style.background=n.colors.modalBg,l.document.body.style.color=n.colors.accentText}return l&&window.addEventListener("beforeunload",(()=>{null===l||void 0===l||l.close()})),l}t.d(n,{C:()=>o});const a='\n<svg class="loader" viewBox="0 0 50 50">\n  <circle\n    cx="25"\n    cy="25"\n    r="20"\n    fill="none"\n    stroke="currentColor"\n    stroke-width="4"\n  />\n</svg>\n\n<style>\n  body,\n  html {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .loader {\n    width: 50px;\n    height: 50px;\n    animation: spin 2s linear infinite;\n  }\n\n  .loader circle {\n    animation: loading 1.5s linear infinite;\n  }\n\n  @keyframes loading {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n\n  @keyframes spin {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n'},39415:(e,n,t)=>{t.d(n,{H:()=>i});var o=t(36660),a=t(47523);function i(){const e=(0,a.c)().locale;return(0,o.I)({queryKey:["inAppWalletLocale",e],queryFn:()=>async function(e){switch(e){case"es_ES":return(await t.e(20146).then(t.bind(t,20146))).default;case"ja_JP":return(await t.e(69107).then(t.bind(t,69107))).default;case"tl_PH":return(await t.e(92422).then(t.bind(t,92422))).default;default:return(await t.e(73701).then(t.bind(t,73701))).default}}(e),refetchOnMount:!1,refetchOnWindowFocus:!1})}}}]);
//# sourceMappingURL=88387.45415809.chunk.js.map